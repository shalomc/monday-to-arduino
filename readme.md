
A CloudFormation YAML template that creates an AWS Lambda function written in Python, an API Gateway REST API that accepts requests via HTTPS and routes them to the Lambda function, and an Amazon SQS queue that the Lambda function reads messages from and writes messages to. The Lambda function uses the request path to determine whether to read or write messages to the SQS queue. If the path is /read, the function reads messages from the SQS queue and returns them as a JSON list via the API Gateway. If the path is /write, the function writes the message to the SQS queue and returns "ok" via the API Gateway. The template also creates the necessary IAM roles and policies for the Lambda function and API Gateway to access SQS.